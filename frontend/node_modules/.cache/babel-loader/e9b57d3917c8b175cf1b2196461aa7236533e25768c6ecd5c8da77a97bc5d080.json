{"ast":null,"code":"import React from\"react\";import axios from\"axios\";import Grid from\"@mui/material/Grid\";import Card from\"@mui/material/Card\";import CardActions from\"@mui/material/CardActions\";import CardContent from\"@mui/material/CardContent\";import CardMedia from\"@mui/material/CardMedia\";import Typography from\"@mui/material/Typography\";import Button from\"@mui/material/Button\";import{SERVER_URL}from\"../constant/serverUrl\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Projects(){const history=useHistory();const[projects,setProjects]=React.useState([]);React.useEffect(()=>{axios.get(SERVER_URL+\"/projects\").then(response=>{console.log(response.data);setProjects(response.data);}).catch(err=>{});},[]);const amountRef=React.useRef();const handlePledge=(pageName,projectTitle)=>{history.push(\"/login\");};const alreadyPledged=audience=>{let alreadyPledged=false;if(audience.length>0){audience.forEach((element,index)=>{if(element.audienceEmail===localStorage.getItem(\"email\")){alreadyPledged=true;}});}return alreadyPledged;};const getRaisedAmount=audience=>{let raisedAmount=0;if(audience.length>0){audience.forEach(element=>{if(element.amount&&element.amount!=null){raisedAmount+=parseInt(element.amount);}});}return raisedAmount;};return/*#__PURE__*/_jsx(Grid,{container:true,style:{padding:\"2rem\",backgroundColor:\"black\"},spacing:4,children:projects.length>0&&projects.map(element=>{return/*#__PURE__*/_jsx(Grid,{item:true,style:{marginLeft:\"52px\"},children:/*#__PURE__*/_jsxs(Card,{sx:{width:345,\"&:hover\":{boxShadow:\"0 4px 8px white\"// Update with your desired shadow style\n}},elevation:4,style:{// borderRadius: \"22px\",\nmargin:\"0 auto\",borderRadius:\"8px\",backgroundColor:\"#222222\",color:\"white\"},children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"200\",image:element.projectURL,alt:element.title,style:{paddingInline:\"1rem\",paddingTop:\".5rem\",color:\"white\"}}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:element.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"white\",children:element.description})]}),/*#__PURE__*/_jsx(CardActions,{style:{paddingInline:\"1rem\",paddingTop:\"0rem\",paddingBottom:\"1rem\"},children:/*#__PURE__*/_jsx(Grid,{container:true,alignItems:\"center\",justifyContent:\"space-between\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(\"b\",{style:{color:\"orange\"},children:[\"Required:\\u2002\\u20B9\\xA0\",element.amount]})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(\"b\",{style:{color:\"lime\"},children:[\"Raised:\\u2002\\u20B9 \",getRaisedAmount(element.audience)]})})]})})})}),/*#__PURE__*/_jsx(Typography,{paddingLeft:2,color:\"lightgrey\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Amount (in \\u20B9)\"})}),/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsxs(Grid,{container:true,paddingX:1,justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",size:10,ref:amountRef,style:{paddingBlock:\".25rem\",backgroundColor:\"black\",color:\"white\"}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{marginInline:\".25rem\"}}),/*#__PURE__*/_jsx(Button,{style:{paddingTop:\"1px\",backgroundColor:\"teal\",color:\"white\"},size:\"small\",onClick:()=>handlePledge(element.pageName,element.title)// disabled={alreadyPledged(element.audiences)}\n,children:\"Pledge\"})]})})]},element.title)});})});}export default Projects;","map":{"version":3,"names":["React","axios","Grid","Card","CardActions","CardContent","CardMedia","Typography","Button","SERVER_URL","useHistory","jsx","_jsx","jsxs","_jsxs","Projects","history","projects","setProjects","useState","useEffect","get","then","response","console","log","data","catch","err","amountRef","useRef","handlePledge","pageName","projectTitle","push","alreadyPledged","audience","length","forEach","element","index","audienceEmail","localStorage","getItem","getRaisedAmount","raisedAmount","amount","parseInt","container","style","padding","backgroundColor","spacing","children","map","item","marginLeft","sx","width","boxShadow","elevation","margin","borderRadius","color","component","height","image","projectURL","alt","title","paddingInline","paddingTop","gutterBottom","variant","description","paddingBottom","alignItems","justifyContent","paddingLeft","paddingX","type","size","ref","paddingBlock","marginInline","onClick"],"sources":["D:/Bharath/MERN/FundIt/frontend/src/components/Projects.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport Grid from \"@mui/material/Grid\";\nimport Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Typography from \"@mui/material/Typography\";\nimport Button from \"@mui/material/Button\";\nimport { SERVER_URL } from \"../constant/serverUrl\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Projects() {\n  const history = useHistory();\n\n  const [projects, setProjects] = React.useState([]);\n\n  React.useEffect(() => {\n    axios\n      .get(SERVER_URL + \"/projects\")\n      .then((response) => {\n        console.log(response.data);\n        setProjects(response.data);\n      })\n      .catch((err) => {});\n  }, []);\n\n\n\n  const amountRef = React.useRef();\n\n  const handlePledge = (pageName, projectTitle) => {\n    history.push(\"/login\");\n  };\n\n  const alreadyPledged = (audience) => {\n    let alreadyPledged = false;\n\n    if (audience.length > 0) {\n      audience.forEach((element, index) => {\n        if (element.audienceEmail === localStorage.getItem(\"email\")) {\n          alreadyPledged = true;\n        }\n      });\n    }\n\n    return alreadyPledged;\n  };\n\n  const getRaisedAmount = (audience) => {\n    let raisedAmount = 0;\n\n    if (audience.length > 0) {\n      audience.forEach((element) => {\n        if (element.amount && element.amount != null) {\n        raisedAmount += parseInt(element.amount);\n        }\n      });\n    }\n\n    return raisedAmount;\n  };\n\n  return (\n    <Grid\n      container\n      style={{ padding: \"2rem\", backgroundColor: \"black\" }}\n      spacing={4}\n    >\n      {projects.length > 0 &&\n        projects.map((element) => {\n          return (\n            <Grid item style={{ marginLeft: \"52px\" }} >\n              <Card\n               sx={{\n                width: 345,\n                \"&:hover\": {\n                  boxShadow: \"0 4px 8px white\", // Update with your desired shadow style\n                },\n              }}\n             \n                elevation={4}\n                key={element.title}\n                style={{\n                  // borderRadius: \"22px\",\n                  margin: \"0 auto\",\n                  borderRadius: \"8px\",\n                  backgroundColor: \"#222222\",\n                  color: \"white\",\n                 \n                }}\n              >\n                <CardMedia\n                  component=\"img\"\n                  height=\"200\"\n                  image={element.projectURL}\n                  alt={element.title}\n                  style={{ paddingInline: \"1rem\", \n                  paddingTop: \".5rem\",\n                  color:\"white\" \n                }}\n                />\n                <CardContent>\n                  <Typography gutterBottom variant=\"h5\" component=\"div\">\n                    {element.title}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"white\">\n                    {element.description}\n                  </Typography>\n                </CardContent>\n                <CardActions\n                  style={{\n                    paddingInline: \"1rem\",\n                    paddingTop: \"0rem\",\n                    paddingBottom: \"1rem\",\n                  }}\n                >\n                  <Grid\n                    container\n                    alignItems=\"center\"\n                    justifyContent=\"space-between\"\n                  >\n                    <Grid item>\n                      <Grid container spacing={2}>\n                        <Grid item>\n                          <b style={{ color: \"orange\" }}>\n                            Required:&ensp;₹&nbsp;{element.amount}\n                          </b>\n                        </Grid>\n                        <Grid item>\n                          <b style={{ color: \"lime\" }}>\n                            Raised:&ensp;₹ {getRaisedAmount(element.audience)}\n                          </b>\n                        </Grid>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                </CardActions>\n                <Typography paddingLeft={2} color=\"lightgrey\"><b>Amount (in ₹)</b></Typography>\n                <CardActions>\n                  <Grid container paddingX={1} justifyContent=\"space-between\" alignItems=\"center\">\n                    <input\n                      type=\"number\"\n                      size={10}\n                      ref={amountRef}\n                      style={{ paddingBlock: \".25rem\",backgroundColor:\"black\", color:\"white\" }}\n                     \n                    />\n                    <br/>\n                    <span style={{ marginInline: \".25rem\" }}></span>\n                    <Button\n             \n                      style={{ paddingTop: \"1px\", backgroundColor: \"teal\",\n                      color:\"white\" }}\n                 \n                      size=\"small\"\n                      onClick={() =>\n                        handlePledge(element.pageName, element.title)\n                      }\n                      // disabled={alreadyPledged(element.audiences)}\n                    >\n                      {/* {alreadyPledged(element.audiences) ? 'Pledged' : 'Pledge'} */}\n                      Pledge\n                    </Button>\n                  </Grid>\n                </CardActions>\n              </Card>\n            </Grid>\n          );\n        })}\n    </Grid>\n  );\n}\n\nexport default Projects;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}