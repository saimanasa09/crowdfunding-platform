{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Card,Grid,Typography}from\"@mui/material\";import{SERVER_URL}from\"../../../constant/serverUrl\";import Paper from\"@mui/material/Paper\";import CardActions from\"@mui/material/CardActions\";import CardContent from\"@mui/material/CardContent\";import CardMedia from\"@mui/material/CardMedia\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const videoSrc=(author,name)=>{return SERVER_URL+\"/file/creators/\"+author+\"/exclusive/\"+name+\"/\"+name+\".mp4\";};function Exclusive(){const[audienceInfo,setAudienceInfo]=useState();const[exclusiveData,setExclusiveData]=useState([]);const[userEmail,setUserEmail]=useState('');useEffect(()=>{const email=localStorage.getItem(\"email\");setUserEmail(email);},[]);useEffect(()=>{axios.post(SERVER_URL+\"/audience/info\",{email:localStorage.getItem(\"email\")}).then(response=>{console.log(response.data);setAudienceInfo(response.data);let creators=[];response.data.creators.forEach(element=>{creators.push(element.pageName);});console.log(creators);axios.post(SERVER_URL+\"/creators/exclusive\",{pageNames:creators,userEmail:localStorage.getItem(\"email\")}).then(response=>{console.log(response.data);setExclusiveData(response.data);}).catch(err=>{});}).catch(err=>{});},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:\"1.5rem\",paddingInline:\"2rem\"},children:[/*#__PURE__*/_jsx(Typography,{children:\"View Subscribed Creators' Exclusive Content\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,style:{marginTop:\"0rem\"},children:exclusiveData&&exclusiveData.map(element=>{return/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Card,{style:{padding:\"1rem\",backgroundColor:\"lightgray\"},children:[/*#__PURE__*/_jsxs(Grid,{container:true,justifyContent:\"space-between\",style:{marginBottom:\".5rem\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"primary\",children:element.title})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"textSecondary\",children:new Date(element.date).toLocaleDateString()})})]}),/*#__PURE__*/_jsx(\"video\",{height:\"200\",controls:true,children:/*#__PURE__*/_jsx(\"source\",{src:element.exclusiveURL,type:\"video/mp4\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",style:{marginTop:\".25rem\"},s:true,children:element.description})]})});})})]});}export default Exclusive;","map":{"version":3,"names":["React","useState","useEffect","axios","Card","Grid","Typography","SERVER_URL","Paper","CardActions","CardContent","CardMedia","jsx","_jsx","jsxs","_jsxs","videoSrc","author","name","Exclusive","audienceInfo","setAudienceInfo","exclusiveData","setExclusiveData","userEmail","setUserEmail","email","localStorage","getItem","post","then","response","console","log","data","creators","forEach","element","push","pageName","pageNames","catch","err","style","paddingTop","paddingInline","children","container","spacing","marginTop","map","item","padding","backgroundColor","justifyContent","marginBottom","variant","color","title","Date","date","toLocaleDateString","height","controls","src","exclusiveURL","type","s","description"],"sources":["D:/Bharath/MERN/FundIt/frontend/src/components/audience/creators/Exclusive.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Card, Grid, Typography } from \"@mui/material\";\nimport { SERVER_URL } from \"../../../constant/serverUrl\";\nimport Paper from \"@mui/material/Paper\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\n\nconst videoSrc = (author, name) => {\n  return (\n    SERVER_URL +\n    \"/file/creators/\" +\n    author +\n    \"/exclusive/\" +\n    name +\n    \"/\" +\n    name +\n    \".mp4\"\n  );\n};\n\nfunction Exclusive() {\n  const [audienceInfo, setAudienceInfo] = useState();\n  const [exclusiveData, setExclusiveData] = useState([]);\n  const [userEmail,setUserEmail] = useState('');\n\n  useEffect(()=>{\n    const email = localStorage.getItem(\"email\");\n    setUserEmail(email);\n  },[])\n\n  useEffect(() => {\n    axios\n      .post(SERVER_URL + \"/audience/info\", {\n        email: localStorage.getItem(\"email\"),\n      })\n      .then((response) => {\n        console.log(response.data);\n        setAudienceInfo(response.data);\n\n        let creators = [];\n        response.data.creators.forEach((element) => {\n          creators.push(element.pageName);\n        });\n\n        console.log(creators);\n\n        axios\n          .post(SERVER_URL + \"/creators/exclusive\", {\n            pageNames: creators,\n            userEmail: localStorage.getItem(\"email\")\n          })\n          .then((response) => {\n            console.log(response.data);\n            setExclusiveData(response.data);\n          })\n          .catch((err) => {});\n      })\n      .catch((err) => {});\n  }, []);\n\n  return (\n    <div style={{ paddingTop: \"1.5rem\", paddingInline: \"2rem\" }}>\n      <Typography>View Subscribed Creators' Exclusive Content</Typography>\n      <Grid container spacing={3} style={{ marginTop: \"0rem\" }}>\n        {exclusiveData &&\n          exclusiveData.map((element) => {\n            return (\n              <Grid item>\n                <Card style={{ padding: \"1rem\", backgroundColor: \"lightgray\" }}>\n                  <Grid\n                    container\n                    justifyContent=\"space-between\"\n                    style={{ marginBottom: \".5rem\" }}\n                  >\n                    <Grid item>\n                      <Typography variant=\"h6\" color=\"primary\">\n                        {element.title}\n                      </Typography>\n                    </Grid>\n                    <Grid item>\n                      <Typography variant=\"h6\" color=\"textSecondary\">\n                        {new Date(element.date).toLocaleDateString()}\n                      </Typography>\n                    </Grid>\n                  </Grid>\n\n                  <video height=\"200\" controls>\n                    <source src={element.exclusiveURL} type=\"video/mp4\" />\n                  </video>\n                  <Typography variant=\"body2\" style={{ marginTop: \".25rem\" }} s>\n                    {element.description}\n                  </Typography>\n                </Card>\n              </Grid>\n            );\n          })}\n      </Grid>\n    </div>\n  );\n}\n\nexport default Exclusive;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}